(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[21],{155:function(e,t,n){"use strict";n.r(t);var o=n(57),c=n(0),r=n(80),a=n(14),i=n(5),l=n(78),d=n(75),s=n(94),u=n(95),b=n(100),j=n(96),m=n(70),h=n(77),p=n(97),f=n(2),v=function(e){return{categories:Object(h.a)(e),products:Object(h.c)(e),prev:e.products.prev,next:e.products.next,count:e.products.count}};t.default=function(){var e=Object(r.a)(),t=e.t,n=e.i18n,h=Object(a.c)(v),O=h.categories,x=h.products,g=h.count,y=Object(i.h)().search,w=new URLSearchParams(y).get("category"),C=new URLSearchParams(y).get("query"),N=Object(c.useState)(null),S=Object(o.a)(N,2),k=S[0],R=S[1],_=Object(c.useState)([]),B=Object(o.a)(_,2),L=B[0],A=B[1],F=Object(c.useState)([]),T=Object(o.a)(F,2),E=T[0],M=T[1],W=Object(c.useState)([]),z=Object(o.a)(W,2),H=z[0],Y=z[1],D=Object(c.useState)(null),I=Object(o.a)(D,2),J=I[0],P=I[1],U=Object(c.useState)([]),V=Object(o.a)(U,2),q=V[0],K=V[1],G=Object(c.useState)({name:"default",value:""}),Q=Object(o.a)(G,2),X=Q[0],Z=Q[1],$=Object(c.useState)(null),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],oe=Object(c.useState)(!1),ce=Object(o.a)(oe,2),re=ce[0],ae=ce[1],ie=Object(c.useState)(!1),le=Object(o.a)(ie,2),de=le[0],se=le[1],ue=Object(c.useState)(C||""),be=Object(o.a)(ue,2),je=be[0],me=be[1],he=Object(a.b)(),pe=function(e,t){R({id:e,name:t})},fe=function(){Object(p.b)(he,se,ne,te,x,H,q,k,X,n.language,je)},ve=function(e){e.preventDefault(),je.length>=3&&fe()};return Object(c.useEffect)((function(){if(window.scrollTo({top:0,behavior:"smooth"}),C&&me(C),w){var e=O.find((function(e){return e.name===w}));e?pe(e.id,e.name):pe("","All")}else pe("","All")}),[C,w]),Object(c.useEffect)((function(){(null===k||void 0===k?void 0:k.id)>=1?(he(Object(m.i)(null===k||void 0===k?void 0:k.id,n.language)).then((function(e){A(e)})),he(Object(m.b)(null===k||void 0===k?void 0:k.id,n.language)).then((function(e){M(e)}))):(A([]),M([]))}),[k,n.language]),Object(c.useEffect)((function(){re?ae(!1):fe()}),[k,O,X,H,q,re,n.language]),Object(f.jsxs)("div",{children:[Object(f.jsx)(l.a,{searchedCategoryName:je.length>=1?je:"Search"}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(d.a,{topmar:!0,searchedCategoryName:je.length>=1?je:"Search"}),Object(f.jsx)("div",{className:"row mb-0",children:Object(f.jsx)("div",{className:"py-5  mx-auto col-md-6",children:Object(f.jsxs)("div",{class:"input-group  ",style:{boxShadow:"0 10px 30px 0 rgba(68, 55, 77, 0.3)",borderRadius:"0.85rem"},children:[Object(f.jsx)("button",{style:{borderBottomLeftRadius:"0.85rem",borderTopLeftRadius:"0.85rem",borderTopRightRadius:"0",borderBottomRightRadius:"0"},class:"btn btn-light border-0 dropdown-toggle py-2 px-3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(null===k||void 0===k?void 0:k.name)&&"All"===(null===k||void 0===k?void 0:k.name)?t("common:All"):null===k||void 0===k?void 0:k.name}),Object(f.jsxs)("ul",{className:"dropdown-menu scroll-y mt-2",style:{maxHeight:"300px",overflowY:"scroll",maxWidth:"100px !important",borderRadius:"15px"},children:[Object(f.jsx)("li",{className:"dropdown-item",role:"button",onClick:function(){return pe("","All")},children:t("common:All")}),O.length>=1&&O.map((function(e){return Object(f.jsx)("li",{className:"dropdown-item truncate-overflow-1 ",role:"button",onClick:function(){return pe(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.name)},children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))]}),Object(f.jsxs)("div",{className:"form-floating col",children:[Object(f.jsx)("input",{type:"text",class:"form-control ",id:"searchInputValue",placeholder:"barista",value:je,onChange:function(e){return me(e.target.value)},style:{borderBottomRightRadius:"0.85rem",borderTopRightRadius:"0.85rem",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",border:"none"},onKeyDown:function(e){"Enter"===e.key&&ve(e)},"aria-label":"Amount (to the nearest dollar)"}),Object(f.jsx)("label",{for:"searchInputValue",children:"Search"})]}),Object(f.jsx)("button",{onClick:function(e){return ve(e)},style:{right:"10px",borderRadius:"30px"},className:"btn border-0 btn-outline-dark-blue  mt-2 position-absolute",children:de?Object(f.jsx)("div",{class:"spinner-border text-primary",role:"status",children:Object(f.jsx)("span",{class:"visually-hidden",children:"Loading..."})}):Object(f.jsx)("i",{class:"bi bi-search"})})]})})}),L&&L.length>=1&&Object(f.jsx)(j.a,{subCategories:L,choosedSubCategories:H,setChoosedSubCategories:Y,page:"search"}),Object(f.jsx)(s.a,{count:g,middleFilters:J,setMiddleFilters:P,choosedOrder:X,setChoosedOrder:Z}),J&&Object(f.jsx)(u.a,{middleFilters:J,brands:E,setChoosedBrand:K,choosedBrand:q}),Object(f.jsx)(b.a,{setClickedLoadMore:ae,setLoadMore:ne,isLoading:de})]})]})}},94:function(e,t,n){"use strict";n(0);var o=n(80),c=n(2);t.a=function(e){var t=e.count,n=e.middleFilters,r=e.setMiddleFilters,a=e.choosedOrder,i=e.setChoosedOrder,l=Object(o.a)(["common"]).t,d=function(e,t){i({name:e,value:t})};return Object(c.jsxs)("div",{class:"row",children:[Object(c.jsxs)("div",{className:"row align-items-center justify-content-between mb-1",children:[Object(c.jsx)("div",{className:"col-12 col-md-auto  py-2",children:Object(c.jsxs)("h5",{children:[t," ",l("common:items_found")]})}),Object(c.jsxs)("div",{className:"col-auto  d-flex ",children:[Object(c.jsxs)("button",{type:"button",className:"badge   ".concat(n?"subcat-badge-active":"subcat-badge"," btn-light  border me-2 my-1  border"),style:{outline:"none",borderRadius:"10px",padding:"0.60rem 0.90rem",fontSize:"18px",fontWeight:"500"},onClick:function(){return r(n?null:"Brands")},"aria-expanded":"false",children:[l("common:brands")," ",Object(c.jsx)("i",{class:"bi bi-caret-down-fill"})]}),Object(c.jsx)("button",{type:"button",className:"dropdown-toggle truncate-overflow-1 badge  bg-dark text-white border me-2 my-1 subcat-badge border","data-bs-toggle":"dropdown",style:{outline:"none",borderRadius:"10px",padding:"0.60rem 0.90rem",fontSize:"18px",fontWeight:"500"},"aria-expanded":"false",children:l("common:".concat(null===a||void 0===a?void 0:a.name))}),Object(c.jsxs)("ul",{className:"dropdown-menu",style:{borderRadius:"20px"},children:[Object(c.jsx)("li",{className:"dropdown-item",role:"button",onClick:function(){return d("default","")},children:l("common:default")}),Object(c.jsx)("li",{className:"dropdown-item",role:"button",onClick:function(){return d("cheap_to_exp","new_price")},children:l("common:cheap_to_exp")}),Object(c.jsx)("li",{className:"dropdown-item",role:"button",onClick:function(){return d("exp_to_cheap","-new_price")},children:l("common:exp_to_cheap")}),Object(c.jsx)("li",{className:"dropdown-item",role:"button",onClick:function(){return d("new","-created")},children:l("common:new")}),Object(c.jsx)("li",{className:"dropdown-item",role:"button",onClick:function(){return d("top_looked","created")},children:l("common:top_looked")})]})]})]}),Object(c.jsx)("hr",{style:{color:"#6270FB"}})]})}},95:function(e,t,n){"use strict";var o=n(13),c=(n(0),n(2));t.a=function(e){var t=e.brands,n=e.middleFilters,r=e.setChoosedBrand,a=e.choosedBrand;return Object(c.jsx)("div",{className:"row pb-3 px-3 px-md-0 scroll-y",style:{maxHeight:"250px",overflowY:"scroll"},children:"Brands"===n&&t.length>=1&&t.map((function(e){return Object(c.jsxs)("div",{class:"col-auto form-check form-switch me-1 my-1",children:[Object(c.jsx)("input",{class:"form-check-input",type:"checkbox",id:e.id,onChange:a.includes(e.id)?function(){return function(e){var t=a.filter((function(t){return t!==e}));r(Object(o.a)(t))}(e.id)}:function(){return t=e.id,void r([].concat(Object(o.a)(a),[t]));var t},checked:a.includes(e.id)}),Object(c.jsx)("label",{class:"form-check-label",htmlFor:e.id,children:e.name})]},e.id)}))})}},96:function(e,t,n){"use strict";var o=n(13),c=(n(0),n(2));t.a=function(e){var t=e.subCategories,n=e.choosedSubCategories,r=e.setChoosedSubCategories,a=e.page;return Object(c.jsx)("div",{className:"row row-cols-auto align-items-center  px-3 px-md-0 scroll-y ".concat("search"===a?"py-3":"pt-5 pb-4"),style:{overflowY:"scroll",maxHeight:"400px"},children:Array.isArray(t)&&t.length>=1&&t.map((function(e){return Object(c.jsx)("span",{className:n.includes(null===e||void 0===e?void 0:e.id)?"badge rounded-pill border me-2 my-1 subcat-badge-active ":"badge rounded-pill border me-2 my-1 subcat-badge",onClick:n.includes(null===e||void 0===e?void 0:e.id)?function(){return function(e){var t=n.filter((function(t){return t!==e}));r(Object(o.a)(t))}(null===e||void 0===e?void 0:e.id)}:function(){return t=null===e||void 0===e?void 0:e.id,void r([].concat(Object(o.a)(n),[t]));var t},role:"button",style:{padding:"0.50rem 0.80rem",fontSize:"16px",fontWeight:"500"},children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var o=n(70),c=function(e,t,n,o,c,r){var a=e.map((function(e){return"subcategory_ids=".concat(e)}));a=a.join("&");var i=t.map((function(e){return"brand_ids=".concat(e)}));return i=i.join("&"),"category_id=".concat(n?null===n||void 0===n?void 0:n.id:"").concat(o.value&&"&ordering=".concat(null===o||void 0===o?void 0:o.value)).concat(e.length>=1?"&".concat(a):"").concat(t.length>=1?"&".concat(i):"").concat(r?"&search=".concat(r.trim()):"").concat(c?"&limit=20&offset=".concat(c):"&limit=10&available=true")},r=function(e,t,n,r,a,i,l,d,s,u){t(!0);var b=c(i,l,d,s,r);r?e(Object(o.j)(b,a,u)).then((function(e){t(!1),n(!1)})):e(Object(o.j)(b,null,u)).then((function(e){t(!1)}))},a=function(e,t,n,r,a,i,l,d,s,u,b){t(!0);var j=c(i,l,d,s,r,b);r?e(Object(o.j)(j,a,u)).then((function(e){t(!1),n(null)})):e(Object(o.j)(j,null,u)).then((function(e){t(!1)}))}}}]);
//# sourceMappingURL=21.e0cf9f95.chunk.js.map