(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[24],{162:function(e,t,n){"use strict";n.r(t);var r=n(29),a=n(1),c=n(57),o=n(0),s=n(14),i=n(5),u=n(82),l=n(59),d=n(58),p=n(70),h=n(98),b=n(88),f=n(84),j=n(77),v=n(3),m=n(75),x=n(78),y=n(80),O=n(2),g=function(e){return{totalAmount:Object(u.c)(e),isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,cartItems:Object(u.a)(e),coupon:Object(j.b)(e)}};t.default=function(){var e=Object(y.a)(["order","common","cities","form"]).t,t=Object(o.useState)(0),n=Object(c.a)(t,2),u=n[0],j=n[1],w=Object(o.useState)(""),N=Object(c.a)(w,2),k=N[0],C=N[1],A=Object(s.b)(),S=Object(s.c)(g),T=S.totalAmount,_=S.isAuthenticated,I=S.user,L=S.cartItems,R=S.coupon,F=Object(o.useState)(15),J=Object(c.a)(F,2),q=J[0],z=J[1],E=Object(o.useState)(!1),D=Object(c.a)(E,2),W=D[0],B=D[1],M=Object(o.useState)(!1),P=Object(c.a)(M,2),K=P[0],U=P[1],G=Object(o.useState)({fullName:null===I||void 0===I?void 0:I.username,phoneNumber:null===I||void 0===I?void 0:I.phone_number,email:null===I||void 0===I?void 0:I.email,city:(null===I||void 0===I?void 0:I.city)||"Ag",address:null===I||void 0===I?void 0:I.address,notes:"\ud83d\udc49"}),H=Object(c.a)(G,2),Q=H[0],V=H[1],X=Object(o.useState)(null),Y=Object(c.a)(X,2),Z=Y[0],$=Y[1],ee=function(e){var t=e.target.value,n=e.target.name;V(Object(a.a)(Object(a.a)({},Q),{},Object(r.a)({},n,t)))};Object(o.useEffect)((function(){$(Object(b.a)(Q))}),[Q]);var te=function(){(null===k||void 0===k?void 0:k.length)>=1?A(Object(p.a)(k)).then((function(e){"Request failed with status code 404"===e?A({type:v.d,payload:d.error8}):200===(null===e||void 0===e?void 0:e.status)?(C(""),A({type:v.e,payload:l.success9})):A({type:v.d,payload:d.error3})})):A({type:v.d,payload:d.error9})};return Object(o.useEffect)((function(){if(z(T>500?0:15),R){var e=(T+q)*R.discount/100;return j(T>0?T-e:0)}return j(T>0?T+q:0)}),[R,T,q]),K?Object(O.jsx)(i.a,{to:"/"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{searchedCategoryName:e("order:Order")}),Object(O.jsxs)("div",{className:"container ",children:[Object(O.jsx)(m.a,{searchedCategoryName:e("order:Order"),topmar:!0}),Object(O.jsxs)("div",{className:"row py-5",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-8 ",children:[Object(O.jsxs)("form",{className:"row",children:[Object(O.jsxs)("div",{className:"mb-2 col-6 form-floating",children:[Object(O.jsx)("input",{type:"text",class:"form-control ".concat((null===Z||void 0===Z?void 0:Z.fullName)?"is-invalid":"is-valid"),id:"nameInput",name:"fullName",value:Q.fullName,autoFocus:!0,onChange:function(e){return ee(e)},placeholder:"Full Name",style:{borderRadius:"20px"}}),Object(O.jsxs)("label",{for:"nameInput",style:{left:"10px"},children:[e("form:Full_name")," ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)("div",{class:"invalid-feedback",children:null===Z||void 0===Z?void 0:Z.fullName})]}),Object(O.jsxs)("div",{className:"mb-2 col-6 form-floating",children:[Object(O.jsx)("input",{type:"number",class:"form-control ".concat((null===Z||void 0===Z?void 0:Z.phoneNumber)?"is-invalid":"is-valid"),id:"phoneInput",name:"phoneNumber",value:Q.phoneNumber,onChange:function(e){return ee(e)},placeholder:"Phone Number",style:{borderRadius:"20px"}}),Object(O.jsxs)("label",{for:"phoneInput",style:{left:"10px"},children:[e("form:Phone_number")," ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)("div",{class:"invalid-feedback",children:null===Z||void 0===Z?void 0:Z.phoneNumber})]}),Object(O.jsxs)("div",{className:"mb-2 col-6 form-floating",children:[Object(O.jsx)("input",{type:"email",class:"form-control ".concat((null===Z||void 0===Z?void 0:Z.email)?"is-invalid":"is-valid"),id:"emailInput",name:"email",value:Q.email,onChange:function(e){return ee(e)},placeholder:"Email",style:{borderRadius:"20px"}}),Object(O.jsx)("label",{for:"emailInput",style:{left:"10px"},children:e("form:Email")}),Object(O.jsx)("div",{class:"invalid-feedback",children:null===Z||void 0===Z?void 0:Z.email})]}),Object(O.jsxs)("div",{className:"mb-2 col-6 form-floating",children:[Object(O.jsxs)("select",{style:{borderRadius:"20px"},value:Q.city,onChange:function(e){return ee(e)},class:"form-select",id:"CityInput",name:"city","aria-label":"Floating label select example",children:[Object(O.jsx)("option",{value:"Ag",children:e("cities:Ashgabat")}),Object(O.jsx)("option",{value:"Mr",children:e("cities:Mary")}),Object(O.jsx)("option",{value:"Ah",children:e("cities:Ahal")}),Object(O.jsx)("option",{value:"Dz",children:e("cities:Dashoguz")}),Object(O.jsx)("option",{value:"Bl",children:e("cities:Balkan")}),Object(O.jsx)("option",{value:"Lb",children:e("cities:Lebap")})]}),Object(O.jsx)("label",{for:"CityInput",style:{left:"10px"},children:e("form:Choose_city")})]}),Object(O.jsxs)("div",{className:"mb-2 col-12 form-floating",children:[Object(O.jsx)("textarea",{class:"form-control ".concat((null===Z||void 0===Z?void 0:Z.address)?"is-invalid":"is-valid"),placeholder:"Address",value:Q.address,onChange:function(e){return ee(e)},id:"floatingTextarea",name:"address",style:{borderRadius:"20px",height:"65px"}}),Object(O.jsxs)("label",{for:"floatingTextarea",style:{left:"10px"},children:[e("form:Address")," ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)("div",{class:"invalid-feedback",children:null===Z||void 0===Z?void 0:Z.address})]}),Object(O.jsxs)("div",{className:"mb-2 col-12 form-floating",children:[Object(O.jsx)("textarea",{class:"form-control ".concat((null===Z||void 0===Z?void 0:Z.notes)?"is-invalid":"is-valid"),placeholder:"Notes",id:"floatingNotes",name:"notes",value:Q.notes,onChange:function(e){return ee(e)},style:{borderRadius:"20px",height:"65px"},required:!0}),Object(O.jsxs)("label",{for:"floatingNotes",style:{left:"10px"},children:[e("form:Notes")," ",Object(O.jsx)("span",{className:"text-danger",children:"*"})]}),Object(O.jsx)("div",{class:"invalid-feedback",children:null===Z||void 0===Z?void 0:Z.notes})]})]}),Object(O.jsx)("h5",{className:"mt-4 ps-2",children:e("order:delivery_&_pay")}),Object(O.jsxs)("ul",{style:{listStyleType:"disc"},children:[Object(O.jsx)("li",{children:e("order:delivery_turkm")}),Object(O.jsx)("li",{children:e("order:operator_call_you")}),Object(O.jsx)("li",{children:e("order:order_delivery")})]})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("div",{className:" bg-white position-relative my-3 mx-auto w-95 font-weight-bolder d-flex flex-column",style:{borderRadius:"30px",padding:"2rem",boxShadow:"0 10px 30px 0 rgba(68, 55, 77, 0.3)"},children:[Object(O.jsx)("h3",{children:e("order:order_summary")}),Object(O.jsx)("p",{className:"text-muted",children:e("order:total_info")}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between my-2",children:[Object(O.jsx)("span",{children:e("order:Subtotal")}),Object(O.jsxs)("span",{style:{fontWeight:500},children:[T.toFixed(2)," ",e("common:manat")]})]}),q>0?Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("em",{children:e("order:delivery")}),Object(O.jsxs)("em",{children:[q.toFixed(2)," ",e("common:manat")]})]}):Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("del",{children:Object(O.jsx)("em",{children:e("order:delivery")})}),Object(O.jsx)("em",{children:e("order:free")})]}),R&&Object(O.jsxs)("div",{className:"d-flex text-danger my-1 align-items-center justify-content-between",children:[Object(O.jsxs)("em",{children:[e("form:Coupon")," (",R.code,")"]}),Object(O.jsxs)("em",{children:["-",R.discount," %"]})]}),_&&Object(O.jsx)("div",{className:"input-group mt-3 position-relative",children:Object(O.jsx)("input",{type:"text",class:"form-control",style:{borderRadius:"15px"},onKeyDown:function(e){"Enter"===e.key&&te()},placeholder:e("order:have_a_coupon"),"aria-label":"Username",value:k,onChange:function(e){return C(e.target.value)},"aria-describedby":"basic-addon1"})}),k&&Object(O.jsx)("div",{role:"button",onClick:function(){return te()},className:"btn  mt-3 ms-2 btn-danger ",style:{width:"100%",borderRadius:"20px"},children:e("order:apply_coupon")})]}),Object(O.jsxs)("div",{style:{fontWeight:600},className:"d-flex align-items-center justify-content-between font-weight-bold h5 my-2",children:[Object(O.jsx)("div",{className:"",children:e("order:total")}),Object(O.jsxs)("div",{children:[u.toFixed(2)," ",e("common:manat")]})]}),Object(O.jsx)("button",{className:"btn  mt-3 ms-2 btn-primary",onClick:function(){return function(){if(L.length<1)return A({type:v.d,payload:d.error6}),U(!0);$(Object(b.a)(Q)),Object(f.a)(Z)?(B(!0),A(Object(h.d)(Q,L,R)).then((function(e){if(B(!1),201!==(null===e||void 0===e?void 0:e.status))return A({type:v.d,payload:d.error3});A({type:v.j}),A({type:v.e,payload:l.success8}),U(!0)}))):A({type:v.d,payload:d.error7})}()},disabled:!Object(f.a)(Z)||L.length<1,style:{width:"100%",borderRadius:"20px",boxShadow:"0 10px 30px 0 rgba(68, 55, 77, 0.3)"},children:W?Object(O.jsx)("div",{class:"spinner-border text-white",role:"status",children:Object(O.jsx)("span",{class:"visually-hidden",children:"Loading..."})}):e("order:order")})]})]})]})]})}},70:function(e,t,n){"use strict";n.d(t,"j",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"m",(function(){return j})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return x})),n.d(t,"b",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"l",(function(){return w})),n.d(t,"a",(function(){return N})),n.d(t,"g",(function(){return k}));var r=n(67),a=n.n(r),c=n(68),o=n(3),s=n(58),i=n(59),u=n(69),l=n.n(u),d=n(60),p={headers:{"Content-Type":"application/json"},withCredentials:!0},h=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var s,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s={headers:{"Content-Type":"application/json","Accept-Language":n}},r.prev=1,r.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/products/?").concat(e),s);case 4:return i=r.sent,Array.isArray(t)?c({type:o.o,results:i.data.results,next:i.data.next,prev:i.data.previous,count:i.data.count,old_products:t}):c({type:o.q,results:i.data.results,next:i.data.next,prev:i.data.previous,count:i.data.count}),r.abrupt("return",i.data.results);case 9:r.prev=9,r.t0=r.catch(1);case 11:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json","Accept-Language":t}},n.prev=1,n.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/products/").concat(e,"/"),c);case 4:return o=n.sent,n.abrupt("return",o.data);case 8:n.prev=8,n.t0=n.catch(1);case 10:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json","Accept-Language":t}},n.prev=1,n.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/sizes/").concat(e,"/"),c);case 4:return o=n.sent,n.abrupt("return",o.data);case 8:n.prev=8,n.t0=n.catch(1);case 10:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var o,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={headers:{"Content-Type":"application/json","Accept-Language":n}},r.prev=1,r.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/search/?").concat(e),o);case 4:if(i=r.sent,t(!1),!(i.data.results.length>=1)){r.next=10;break}return r.abrupt("return",i);case 10:return r.abrupt("return",s.error10);case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),t(!1),r.abrupt("return",s.error3);case 17:case"end":return r.stop()}}),r,null,[[1,13]])})));return function(e){return r.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json","Accept-Language":t}},n.prev=1,n.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/products/?").concat(e),c);case 4:if(!((o=n.sent).data.results.length>=1)){n.next=9;break}return n.abrupt("return",o.data.results);case 9:return n.abrupt("return",s.error3);case 10:n.next=15;break;case 12:return n.prev=12,n.t0=n.catch(1),n.abrupt("return",s.error3);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Content-Type":"application/json","Accept-Language":e}},t.prev=1,t.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/categories/"),r);case 4:return c=t.sent,n({type:o.l,results:c.data.results,count:c.data.count}),t.abrupt("return",c.data.results);case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json","Accept-Language":t}},n.prev=1,n.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/subcategories/").concat(e,"/"),c);case 4:return o=n.sent,n.abrupt("return",o.data.results);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json","Accept-Language":t}},n.prev=1,n.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/brands/").concat(e&&"?category=".concat(e)),c);case 4:return o=n.sent,n.abrupt("return",o.data.results);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},O=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/sliders/"),p);case 3:return n=e.sent,t({type:o.s,payload:n.data.results}),e.abrupt("return",n.data.results);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/comments/").concat(e,"/?").concat(t),p);case 3:return c=n.sent,n.abrupt("return",c.data);case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,u,p;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!localStorage.getItem("access")){n.next=18;break}return c={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},u=JSON.stringify({body:e}),n.prev=3,n.next=6,l.a.post("".concat("https://itoneshop.pythonanywhere.com//api/v0","/comments/").concat(t,"/"),u,c);case 6:return p=n.sent,r({type:o.e,payload:i.success2}),n.abrupt("return",p.status);case 11:return n.prev=11,n.t0=n.catch(3),r(Object(d.d)()),r({type:o.e,payload:i.success1}),n.abrupt("return",s.error3);case 16:n.next=19;break;case 18:return n.abrupt("return",s.error2);case 19:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem("access")){t.next=16;break}return r={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},c=JSON.stringify({coupon:e}),t.prev=3,t.next=6,l.a.post("".concat("https://itoneshop.pythonanywhere.com//api/v0","/coupon/"),c,r);case 6:return i=t.sent,n({type:o.c,payload:i.data}),t.abrupt("return",i);case 11:return t.prev=11,t.t0=t.catch(3),t.abrupt("return",s.error3);case 14:t.next=17;break;case 16:return t.abrupt("return",s.error1);case 17:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json","Accept-Language":t}},n.prev=1,n.next=4,l.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/recommend/").concat(e,"/"),c);case 4:return o=n.sent,n.abrupt("return",o);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",s.error3);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}},77:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(73),a=function(e){return e.products},c=Object(r.a)([a],(function(e){return e.products})),o=Object(r.a)([a],(function(e){return e.categories})),s=(Object(r.a)([a],(function(e){return e.product})),Object(r.a)([a],(function(e){return e.coupon})))},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));var r=n(73),a=Object(r.a)([function(e){return e.cartData}],(function(e){return e.cartItems})),c=Object(r.a)([a],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),o=Object(r.a)([a],(function(e){return e.reduce((function(e,t){return e+parseInt(t.quantity)*parseFloat(t.new_price)}),0)}))}}]);
//# sourceMappingURL=24.832c49b6.chunk.js.map