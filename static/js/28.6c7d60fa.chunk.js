(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[28],{171:function(e,s,n){"use strict";n.r(s);var t=n(13),i=n(57),r=n(0),d=n(14),o=n(5),a=[{name:"Products",slug:"products",fields:[{name:"Id",id:"id"},{name:"Name",id:"name"},{name:"Photo",id:"picture_search",type:"image"},{name:"Sold",id:"sold"},{name:"Remain",id:"amount"},{name:"Available",id:"available",type:"tick"}],url:"products/",addPermission:"shop.add_product",deletePermission:"shop.delete_product",changePermission:"shop.change_product"},{name:"Categories",slug:"categories",fields:[{name:"Id",id:"id"},{name:"Name",id:"name"},{name:"Photo",id:"picture",type:"image"}],url:"categories/",addPermission:"shop.add_category",deletePermission:"shop.delete_category",changePermission:"shop.change_category"},{name:"Brands",slug:"brands",fields:[{name:"Id",id:"id"},{name:"Name",id:"name"}],url:"brands/",addPermission:"shop.add_brand",deletePermission:"shop.delete_brand",changePermission:"shop.change_brand"},{name:"Subcategories",slug:"subcategories",fields:[{name:"Id",id:"id"},{name:"Name",id:"name"},{name:"Category",id:"category",subId:"name"}],url:"subcategories/",addPermission:"shop.add_subcategory",deletePermission:"shop.delete_subcategory",changePermission:"shop.change_subcategory"},{name:"Sliders",slug:"sliders",fields:[{name:"Id",id:"id"},{name:"Name",id:"name"},{name:"Photo",id:"picture_admin",type:"image"}],url:"sliders/",addPermission:"shop.add_slider",deletePermission:"shop.delete_slider",changePermission:"shop.change_slider"},{name:"Comments",slug:"comments",fields:[{name:"Id",id:"id"},{name:"User",id:"user",subId:"username"},{name:"Product",id:"product",subId:"name"},{name:"Created",id:"created"}],url:"comments/",addPermission:"shop.add_comment",deletePermission:"shop.delete_comment",changePermission:"shop.change_comment"},{name:"Messages",slug:"messages",fields:[{name:"Id",id:"id"},{name:"Name",id:"name"},{name:"Phone Number",id:"phone_number"},{name:"Created",id:"created"}],url:"contacts/",addPermission:"shop.add_contact",deletePermission:"shop.delete_contact",changePermission:"shop.change_contact"},{name:"Coupons",slug:"coupons",fields:[{name:"Id",id:"id"},{name:"Code",id:"code"},{name:"Valid From",id:"valid_from"},{name:"Valid To",id:"valid_to"},{name:"Discount %",id:"discount"},{name:"Active",id:"active",type:"tick"}],url:"coupons/",addPermission:"shop.add_coupon",deletePermission:"shop.delete_coupon",changePermission:"shop.change_coupon"},{name:"Orders",slug:"orders",fields:[{name:"Id",id:"id"},{name:"Name",id:"full_name"},{name:"Phone Number",id:"phone_number"},{name:"City",id:"city"},{name:"Address",id:"address"},{name:"Active",id:"is_active",type:"tick"},{name:"Total $",id:"total_shop"},{name:"Created",id:"created"}],url:"orders/all/",addPermission:"orders.add_order",deletePermission:"shop.delete_order",changePermission:"shop.change_order"},{name:"Users",slug:"users",fields:[{name:"Id",id:"id"},{name:"Username",id:"username"},{name:"Phone Number",id:"phone_number"},{name:"Admin",id:"is_staff",type:"tick"},{name:"Active",id:"is_active",type:"tick"},{name:"Avatar",id:"profile_avatar",type:"image"},{name:"Joined Time",id:"date_joined"}],url:"users/all/",addPermission:"authentication.add_user",deletePermission:"authentication.delete_user",changePermission:"authentication.change_user"},{name:"Groups",slug:"groups",fields:[{name:"Id",id:"id"},{name:"Name",id:"name"},{name:"Phone Number",id:"phone_number"},{name:"Created",id:"created"}],url:"groups/",addPermission:"auth.add_group",deletePermission:"auth.delete_group",changePermission:"auth.change_group"}],c=n(67),l=n.n(c),u=n(68),m=n(69),b=n.n(m),p=n(58),h=n(2),j=function(e){var s=e.auth;return{user:s.user,permissions:s.permissions}};s.default=function(){var e=Object(o.i)().category,s=Object(d.c)(j),n=(s.user,s.permissions),c=Object(r.useState)(null),m=Object(i.a)(c,2),g=m[0],x=m[1],v=Object(r.useState)([]),f=Object(i.a)(v,2),O=f[0],y=f[1],_=Object(d.b)(),P=Object(r.useState)([]),w=Object(i.a)(P,2),N=w[0],k=w[1],S=Object(r.useState)(!1),I=Object(i.a)(S,2),C=I[0],A=I[1],R=Object(r.useState)(null),z=Object(i.a)(R,2),J=z[0],T=z[1];return Object(r.useEffect)((function(){x(a.find((function(s){return s.slug===e})))}),[e]),Object(r.useEffect)((function(){var e;g&&_((e=null===g||void 0===g?void 0:g.url,function(){var s=Object(u.a)(l.a.mark((function s(n){var t,i;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!localStorage.getItem("access")){s.next=14;break}return t={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},s.prev=2,s.next=5,b.a.get("".concat("https://itoneshop.pythonanywhere.com//api/v0","/").concat(e),t);case 5:return i=s.sent,s.abrupt("return",i.data);case 9:return s.prev=9,s.t0=s.catch(2),s.abrupt("return",p.error3);case 12:s.next=15;break;case 14:return s.abrupt("return",p.error1);case 15:case"end":return s.stop()}}),s,null,[[2,9]])})));return function(e){return s.apply(this,arguments)}}())).then((function(e){y(e.results),T({next:null===e||void 0===e?void 0:e.next,prev:null===e||void 0===e?void 0:e.previous,count:null===e||void 0===e?void 0:e.count})}))}),[g]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"text-black main-title  p-4",children:[null===g||void 0===g?void 0:g.name," (",null===J||void 0===J?void 0:J.count,")"]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"row col-lg-6 mb-3 ms-2",children:[Object(h.jsxs)("div",{className:"col-auto dropdown",children:[Object(h.jsxs)("button",{type:"button",className:"dropdown-toggle truncate-overflow-1 badge   border me-2 my-1 subcat-badge border","data-bs-toggle":"dropdown",style:{outline:"none",borderRadius:"10px",padding:"0.60rem 0.90rem",fontSize:"18px",fontWeight:"500",boxShadow:"0 10px 30px 0 rgba(68, 55, 77, 0.2)"},"aria-expanded":"false",children:[Object(h.jsx)("i",{class:"bi bi-filter-right me-2 ",style:{fontSize:"24px"}})," ","Filter"]}),Object(h.jsx)("ul",{class:"dropdown-menu  ",style:{borderRadius:"15px",overflow:"hidden"},"aria-labelledby":"dropdownMenuButton1",children:Object(h.jsx)("li",{children:Object(h.jsx)("a",{class:"dropdown-item p-2 list-group-item border-top-0",href:"#",children:"Action"})})})]}),Object(h.jsxs)("div",{className:"col-auto dropdown",children:[Object(h.jsxs)("button",{type:"button",className:"dropdown-toggle truncate-overflow-1 badge   border me-2 my-1 subcat-badge border","data-bs-toggle":"dropdown",style:{outline:"none",borderRadius:"10px",padding:"0.60rem 0.90rem",fontSize:"18px",fontWeight:"500",boxShadow:"0 10px 30px 0 rgba(68, 55, 77, 0.2)"},"aria-expanded":"false",children:[Object(h.jsx)("i",{class:"bi bi-sort-alpha-down me-2 ",style:{fontSize:"24px"}})," ","Order"]}),Object(h.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{class:"dropdown-item",href:"#",children:"Action"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{class:"dropdown-item",href:"#",children:"Another action"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{class:"dropdown-item",href:"#",children:"Something else here"})})]})]})]}),Object(h.jsxs)("div",{className:"row col-lg-6 mb-3 justify-content-end",children:[n&&n.find((function(e){return e===(null===g||void 0===g?void 0:g.addPermission)}))&&Object(h.jsx)("div",{className:"col-auto ",children:Object(h.jsxs)("button",{className:"btn btn-primary p-2  ",style:{borderRadius:"10px"},children:[Object(h.jsx)("i",{class:"bi bi-plus-lg me-2"}),Object(h.jsx)("strong",{children:"Add "})]})}),n&&n.find((function(e){return e===(null===g||void 0===g?void 0:g.deletePermission)}))&&Object(h.jsx)("div",{className:"col-auto ",children:Object(h.jsxs)("button",{className:"btn btn-danger p-2 ",disabled:0===N.length,style:{borderRadius:"10px"},children:[Object(h.jsx)("i",{class:"bi bi-x-lg me-2"}),Object(h.jsx)("strong",{children:"Delete "})]})})]})]}),Object(h.jsx)("div",{class:"container",style:{width:"90%"},children:Object(h.jsx)("div",{class:"table-responsive",children:Object(h.jsxs)("table",{class:"table ",style:{borderRadius:"15px",borderCollapse:"collapse"},children:[Object(h.jsx)("thead",{className:"border-0 text-black",children:Object(h.jsxs)("tr",{className:"border-0",children:[Object(h.jsx)("th",{scope:"row",className:"border-0",children:Object(h.jsxs)("label",{class:"control control--checkbox",children:[Object(h.jsx)("input",{type:"checkbox",checked:C,onChange:function(){return function(){if(N.length===O.length)k([].concat([])),A(!1);else{var e=O.map((function(e){return null===e||void 0===e?void 0:e.id}));k(Object(t.a)(e)),A(!0)}}()}}),Object(h.jsx)("div",{class:"control__indicator"})]})}),null===g||void 0===g?void 0:g.fields.map((function(e){return Object(h.jsx)("th",{scope:"col",className:"border-0",children:e.name})}))]})}),Object(h.jsx)("tbody",{className:"bg-black text-black",style:{borderRadius:"10px !important",boxShadow:"rgba(0, 0, 0, 0.5) 15px 5px 10px"},children:Array.isArray(O)&&O.length>=1&&O.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:Object(h.jsxs)("label",{class:"control control--checkbox",children:[Object(h.jsx)("input",{type:"checkbox",checked:N.includes(null===e||void 0===e?void 0:e.id),onChange:function(){return function(e){if(N.find((function(s){return s===e}))){var s=N.filter((function(s){return s!==e}));k(Object(t.a)(s))}else k([].concat(Object(t.a)(N),[e]))}(null===e||void 0===e?void 0:e.id)}}),Object(h.jsx)("div",{class:"control__indicator"})]})}),g.fields.map((function(s){if("image"===(null===s||void 0===s?void 0:s.type))return Object(h.jsx)("td",{children:Object(h.jsx)("img",{className:"img-fluid ",style:{borderRadius:"15px"},src:e[s.id],alt:"product"})});if("tick"===(null===s||void 0===s?void 0:s.type)){var n=e[null===s||void 0===s?void 0:s.id];return Object(h.jsx)("td",{children:!0===n?Object(h.jsx)("i",{class:"bi bi-check-lg h5 text-success"}):Object(h.jsx)("i",{class:"bi bi-dash-circle-fill h5 text-danger"})})}if(!(null===s||void 0===s?void 0:s.subId)||!e[null===s||void 0===s?void 0:s.id])return Object(h.jsx)("td",{children:e[null===s||void 0===s?void 0:s.id]});for(var t=e[null===s||void 0===s?void 0:s.id],r=0,d=Object.entries(t);r<d.length;r++){var o=Object(i.a)(d[r],2),a=o[0],c=o[1];if(a===(null===s||void 0===s?void 0:s.subId))return Object(h.jsx)("td",{children:c})}}))]})}))})]})})})]})}},58:function(e){e.exports=JSON.parse('{"error1":"You must be logged in to post comment!","error2":"You must be logged in to delete order!","error3":"Something went wrong","error4":"No such a user or invalid password","error5":"User already exists","error6":"Please, shop before order!","error7":"Please fill fields correctly!","error8":"Not Correct Coupon Code!","error9":"Please write something!","error10":"No products!"}')}}]);
//# sourceMappingURL=28.6c7d60fa.chunk.js.map